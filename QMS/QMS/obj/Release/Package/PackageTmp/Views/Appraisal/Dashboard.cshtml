@using HRMS.Utilities;
@{

    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/Layout.cshtml";
}



<html>
<head>

    <script src="~/Scripts/Chart.min.js"></script>
    <link href="~/jquery-ui-1.12.1/jquery-ui-1.12.1/jquery-ui.min.css" rel="stylesheet" />
    <link href="~/jquery-ui-1.12.1/jquery-ui-1.12.1/jquery-ui.structure.css" rel="stylesheet" />
    <link href="~/jquery-ui-1.12.1/jquery-ui-1.12.1/jquery-ui.theme.css" rel="stylesheet" />

    <style>
        #chart_container {
            width: 400px;
            height: 300px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div id="chart_container" class="m-16">
        <canvas id="bar_chart"></canvas>
    </div>
    <script src="~/Templates/admin/main.js"></script>
    <script src="~/JQueryValidation/jquery.js"></script>
    <script src="~/JQueryValidation/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/JQueryValidation/js/bootstrap.min.js"></script>
    <link href="/JQueryValidation/css/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.6.0.js"></script>
    <script src="~/jquery-ui-1.12.1/jquery-ui-1.12.1/jquery-ui.min.js"></script>
    <script>
        var repArray =@Html.Raw(Json.Encode(ViewBag.REP));
        var status =@Html.Raw(Json.Encode(ViewBag.Status));
        var StatusValue =@Html.Raw(Json.Encode(ViewBag.StatusValue));

        var indexOfInProgress = StatusValue.indexOf(1);
        if (indexOfInProgress !== -1) {
            StatusValue[indexOfInProgress] = "In Progress";
        }
        var indexOfObjectivesAgreed = StatusValue.indexOf(2);
        if (indexOfObjectivesAgreed !== -1) {
            StatusValue[indexOfObjectivesAgreed] = "Objectives Agreed";
        }
        var indexOfEvaluationComplete = StatusValue.indexOf(3);
        if (indexOfEvaluationComplete !== -1) {
            StatusValue[indexOfEvaluationComplete] = "Evaluation Complete";
        }
        alert(repArray);
        alert(status);
        alert(StatusValue);
        var newStatus = ["Evaluation Complete","In Progress","Objectives Agreed"];
        var ctx = $("#bar_chart");
        var bacchart = new Chart(ctx, {

            type:'bar',
            data: {
                labels: StatusValue,
                datasets: [{
                    label: "Bar Chart",
                    data: repArray,
                    //backgroundColor: ["rgba(242,166,54,.5)", "rgba(145,65,72,.5)", "rgba(74,25,92,.5)"]
                    backgroundColor: ["#ddddd", "#43678", "#8795"]

                }]
            },

            options: {
                maintainAspectRatio: false,
                scales: { xAxes: [{ ticks: { beginAtZero: true } }] },
                legend: {display:false}

            }


        });
    </script>

</body>
</html>
